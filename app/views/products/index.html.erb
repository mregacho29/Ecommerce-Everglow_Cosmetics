<h1 class="text-center my-4">Products</h1>

<div class="container">
  <div class="row">
    <% @products.each do |product| %>
      <div class="col-md-4 mb-4">
        <div class="card h-100">
          <% if product.image_url.present? %>
            <img src="<%= product.image_url %>" class="card-img-top" alt="<%= product.name %>" style="height: 200px; object-fit: cover;">
          <% elsif product.image.attached? %>
            <%= image_tag url_for(product.image), class: "card-img-top", alt: product.name, style: "height: 200px; object-fit: cover;" %>
          <% else %>
            <img src="https://via.placeholder.com/200" class="card-img-top" alt="No image available" style="height: 200px; object-fit: cover;">
          <% end %>
          <div class="card-body">
            <h5 class="card-title"><%= product.name %></h5>
            <p class="card-text">Price: <%= number_to_currency(product.price) %></p>
            <p class="card-text">Stock: <%= product.stock_quantity %></p>
            <%= link_to 'View Details', product_path(product), class: "btn btn-primary" %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>